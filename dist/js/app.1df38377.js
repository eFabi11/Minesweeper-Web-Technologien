(function(){"use strict";var e={5249:function(e,t,a){var o=a(5130),s=a(6768);const n={style:{backgroundColor:"#f5f5f5"}},l={id:"content"};function r(e,t,a,o,r,i){const c=(0,s.g2)("Homepage"),d=(0,s.g2)("GameScreen"),m=(0,s.g2)("LoadGameScreen");return(0,s.uX)(),(0,s.CE)("div",n,[(0,s.Lk)("div",l,["home"===r.currentScreen?((0,s.uX)(),(0,s.Wv)(c,{key:0,ref:"homepage",onStartGame:i.startGame},null,8,["onStartGame"])):"game"===r.currentScreen?((0,s.uX)(),(0,s.Wv)(d,{key:1,ref:"GameScreen",onLoadGame:i.loadGame,onReturnToHome:i.returnToHome},null,8,["onLoadGame","onReturnToHome"])):"loadGame"===r.currentScreen?((0,s.uX)(),(0,s.Wv)(m,{key:2,onStartNewGame:i.startNewGame,onLoadExistingGame:i.loadExistingGame},null,8,["onStartNewGame","onLoadExistingGame"])):(0,s.Q3)("",!0)])])}const i={style:{backgroundColor:"#f5f5f5"}},c={id:"how-to-play",class:"container mt-4"},d={id:"history",class:"container mt-4"},m={id:"function",class:"container mt-4"},u={id:"visuals",class:"container mt-4"},h={id:"feedback",class:"container mt-4"};function g(e,t,a,o,n,l){const r=(0,s.g2)("Header"),g=(0,s.g2)("Navbar"),f=(0,s.g2)("HowToPlay"),p=(0,s.g2)("History"),v=(0,s.g2)("Function"),y=(0,s.g2)("Visuals"),b=(0,s.g2)("FeedbackForm"),k=(0,s.g2)("StartGame");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(r),(0,s.bF)(g),(0,s.Lk)("section",c,[(0,s.bF)(f)]),(0,s.Lk)("section",d,[(0,s.bF)(p)]),(0,s.Lk)("section",m,[(0,s.bF)(v)]),(0,s.Lk)("section",u,[(0,s.bF)(y)]),(0,s.Lk)("section",h,[(0,s.bF)(b)]),(0,s.bF)(k,{onStartGame:l.startGame},null,8,["onStartGame"])])}a(8992),a(3949);const f={id:"header-scroll"};function p(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("header",f,t[0]||(t[0]=[(0,s.Lk)("h1",{id:"title"},"Minesweeper",-1)]))}var v={name:"GameHeader"},y=a(1241);const b=(0,y.A)(v,[["render",p],["__scopeId","data-v-4d8f5e04"]]);var k=b;const S={class:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top",id:"navbar"};function w(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("nav",S,t[0]||(t[0]=[(0,s.Fv)('<div class="container-fluid" data-v-4c8e8183><a class="navbar-brand" href="#title" data-v-4c8e8183>Minesweeper</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" data-v-4c8e8183><span class="navbar-toggler-icon" data-v-4c8e8183></span></button><div class="collapse navbar-collapse" id="navbarNav" data-v-4c8e8183><ul class="navbar-nav" data-v-4c8e8183><li class="nav-item" data-v-4c8e8183><a class="nav-link active" href="#how-to-play" data-v-4c8e8183>How to Play</a></li><li class="nav-item" data-v-4c8e8183><a class="nav-link" href="#history" data-v-4c8e8183>History</a></li><li class="nav-item" data-v-4c8e8183><a class="nav-link" href="#function" data-v-4c8e8183>Function</a></li><li class="nav-item" data-v-4c8e8183><a class="nav-link" href="#visuals" data-v-4c8e8183>Game Visuals</a></li><li class="nav-item" data-v-4c8e8183><a class="nav-link" href="#feedback" data-v-4c8e8183>Feedback</a></li><li class="nav-item" data-v-4c8e8183><a class="nav-link" href="#start-game" data-v-4c8e8183>Start Game</a></li></ul></div></div>',1)]))}var G={name:"GameNavbar"};const C=(0,y.A)(G,[["render",w],["__scopeId","data-v-4c8e8183"]]);var L=C;function E(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",null,t[0]||(t[0]=[(0,s.Lk)("h2",null,"How to Play",-1),(0,s.Lk)("p",null,'Minesweeper is a puzzle game where the player\'s goal is to clear a rectangular board containing hidden "mines" or bombs without detonating any of them. Players reveal cells on the grid by clicking on them. If a cell containing a mine is revealed, the player loses the game. If the revealed cell does not contain a mine, a number will be displayed in the cell, indicating how many adjacent cells contain mines.',-1),(0,s.Lk)("p",null,"The player uses this information to deduce which neighboring cells are safe to reveal and can mark suspected mine locations with flags. The game is won when all mine-free cells are revealed without detonating a mine.",-1)]))}var B={name:"HowToPlay"};const D=(0,y.A)(B,[["render",E],["__scopeId","data-v-15a3d697"]]);var F=D;function I(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",null,t[0]||(t[0]=[(0,s.Lk)("h2",null,"History of Minesweeper",-1),(0,s.Lk)("p",null,"Minesweeper was first created in the 1960s and has been included with many operating systems over the decades. It became highly popular when it was introduced in Windows 3.1 as part of the Microsoft Entertainment Pack. Since then, it has been a staple part of most versions of Windows.",-1)]))}var X={name:"GameHistory"};const P=(0,y.A)(X,[["render",I],["__scopeId","data-v-38a8fc9f"]]);var A=P;function $(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",null,t[0]||(t[0]=[(0,s.Fv)('<h2 data-v-2c942056>Game Function</h2><ol class="list-group" data-v-2c942056><li class="list-group-item" data-v-2c942056>Choose the difficulty between easy, medium, or hard</li><li class="list-group-item" data-v-2c942056>By left-clicking on a field you can open a field</li><li class="list-group-item" data-v-2c942056>By right-clicking on a field you can flag a field</li><li class="list-group-item" data-v-2c942056>If you have flagged all bombs, you win the game</li><li class="list-group-item" data-v-2c942056>If you open a field with a bomb, you lose the game</li></ol>',2)]))}var _={name:"GameFunction"};const x=(0,y.A)(_,[["render",$],["__scopeId","data-v-2c942056"]]);var T=x,W=a.p+"img/EmptyField.9556ee10.png",V=a.p+"img/Numbers.269a78c2.png",N=a.p+"img/FlagBomb.cca952b3.png";function H(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",null,t[0]||(t[0]=[(0,s.Fv)('<h2 data-v-33eedf91>Game Visuals</h2><div class="row" data-v-33eedf91><div class="col-sm" data-v-33eedf91><figure data-v-33eedf91><img src="'+W+'" class="img-fluid visual-image" alt="View of the new Game" title="Empty Field" data-v-33eedf91><figcaption data-v-33eedf91>View of the new Game</figcaption></figure></div><div class="col-sm" data-v-33eedf91><figure data-v-33eedf91><img src="'+V+'" class="img-fluid visual-image" alt="Mark of the Numbers" title="Numbers" data-v-33eedf91><figcaption data-v-33eedf91>Mark of the Numbers</figcaption></figure></div><div class="col-sm" data-v-33eedf91><figure data-v-33eedf91><img src="'+N+'" class="img-fluid visual-image" alt="Flagged Bomb" title="Flag Bomb" data-v-33eedf91><figcaption data-v-33eedf91>Flagged Bomb</figcaption></figure></div></div>',2)]))}var M={name:"GameVisuals"};const O=(0,y.A)(M,[["render",H],["__scopeId","data-v-33eedf91"]]);var R=O;function U(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",null,t[0]||(t[0]=[(0,s.Lk)("h2",null,"Feedback",-1),(0,s.Lk)("form",{id:"feedbackForm",action:"/submit-feedback",method:"POST"},[(0,s.Lk)("div",{class:"mb-3"},[(0,s.Lk)("label",{for:"name",class:"form-label"},"Name"),(0,s.Lk)("input",{type:"text",class:"form-control",id:"name",name:"name",required:""})]),(0,s.Lk)("div",{class:"mb-3"},[(0,s.Lk)("label",{for:"email",class:"form-label"},"Email"),(0,s.Lk)("input",{type:"email",class:"form-control",id:"email",name:"email",required:""})]),(0,s.Lk)("div",{class:"mb-3"},[(0,s.Lk)("label",{for:"message",class:"form-label"},"Message"),(0,s.Lk)("textarea",{class:"form-control",id:"message",name:"message",rows:"3",required:""})]),(0,s.Lk)("button",{type:"submit",class:"btn btn-success"},"Submit")],-1)]))}var j={data(){return{feedback:""}},methods:{submitFeedback(){this.feedback?(alert("Thank you for your feedback!"),this.feedback=""):alert("Please provide feedback before submitting.")}}};const K=(0,y.A)(j,[["render",U],["__scopeId","data-v-42ec5a99"]]);var q=K;const z={id:"start-game"},Q={class:"my-4"};function J(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",z,[(0,s.Lk)("h1",Q,[(0,s.Lk)("button",{id:"start-game-btn",class:"btn start-game-button",onClick:t[0]||(t[0]=(...e)=>l.startGame&&l.startGame(...e))}," Start Game ")])])}var Y={methods:{startGame(){this.$emit("start-game")}}};const Z=(0,y.A)(Y,[["render",J],["__scopeId","data-v-099fdf10"]]);var ee=Z,te={components:{Header:k,Navbar:L,HowToPlay:F,History:A,Function:T,Visuals:R,FeedbackForm:q,StartGame:ee},data(){return{gameStarted:!1}},mounted(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("load",this.onLoad),window.scrollTo(0,0),document.querySelectorAll("nav a").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const a=document.querySelector(e.getAttribute("href"));if(a){const e=document.getElementById("navbar").offsetHeight;window.scrollTo({top:a.offsetTop-e-25,behavior:"smooth"})}}))}))},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("load",this.onLoad)},methods:{startGame(){this.$emit("start-game")},handleScroll(){let e=window.scrollY;const t=document.getElementById("navbar");e>1?(document.getElementById("header-scroll").classList.add("small"),t.style.display="block",t.classList.add("visible")):(document.getElementById("header-scroll").classList.remove("small"),t.classList.remove("visible"),t.style.display="none");let a=document.querySelectorAll("section"),o=document.querySelector("nav"),s=o.offsetHeight+100;a.forEach((t=>{let n=t.offsetTop-s-160,l=n+t.offsetHeight;if(e>=n&&e<l){let e=t.id;a.forEach((e=>e.classList.remove("active"))),o.querySelectorAll("a").forEach((e=>e.classList.remove("active"))),t.classList.add("active"),o.querySelector(`a[href="#${e}"]`).classList.add("active")}}))},onLoad(){document.getElementById("header-scroll").classList.remove("small")},removeEventlisteners(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("load",this.onLoad)}}};const ae=(0,y.A)(te,[["render",g],["__scopeId","data-v-9a14fd36"]]);var oe=ae;const se={id:"content",class:"game"};function ne(e,t,a,o,n,l){const r=(0,s.g2)("Background"),i=(0,s.g2)("Navbar"),c=(0,s.g2)("ModeSelection"),d=(0,s.g2)("DifficultySelection"),m=(0,s.g2)("GameBoard"),u=(0,s.g2)("GameControls"),h=(0,s.g2)("Socket");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(r),(0,s.bF)(i,{onReturnToHome:l.returnToHome},null,8,["onReturnToHome"]),(0,s.Lk)("div",se,[n.modeSelected?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(c,{key:0,onModeSelected:l.handleModeSelection},null,8,["onModeSelected"])),!n.modeSelected||n.selectedDifficulty||"versus"===n.modeSelected&&!n.isFirstPlayer?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(d,{key:1,mode:n.modeSelected,onSelectedDifficulty:l.handleDifficultySelection},null,8,["mode","onSelectedDifficulty"])),n.selectedDifficulty?((0,s.uX)(),(0,s.Wv)(m,{key:2,ref:"gameBoard",gameState:n.gameState,mode:n.modeSelected,coopBoardData:n.coopBoardData,vsBoardData:n.vsBoardData,playerId:n.playerId,onGameStateUpdated:l.handleGameStateUpdate,onSendCoopAction:l.handleCoopAction,onSendVsAction:l.handleVsAction},null,8,["gameState","mode","coopBoardData","vsBoardData","playerId","onGameStateUpdated","onSendCoopAction","onSendVsAction"])):(0,s.Q3)("",!0),n.selectedDifficulty||n.players[1]?((0,s.uX)(),(0,s.Wv)(u,{key:3,mode:n.modeSelected,onSendCoopControl:l.handleCoopControl,onResetDifficulty:l.resetDifficulty,onLoadGame:l.handleLoadGame,onGameStateUpdated:l.handleGameStateUpdate,onReloadGameboard:l.handleRebuildGameBoard},null,8,["mode","onSendCoopControl","onResetDifficulty","onLoadGame","onGameStateUpdated","onReloadGameboard"])):(0,s.Q3)("",!0)]),(0,s.bF)(h,{ref:"socket",onBuildCoopGameBoards:l.buildCoopGameBoards,onBuildVsGameBoards:l.buildVsGameBoards,onUpdateFirstPlayerStatus:l.handleFirstPlayerStatusUpdate,onDifficultySet:l.handleDifficultySet,onPlayerListUpdated:l.handlePlayerListUpdate},null,8,["onBuildCoopGameBoards","onBuildVsGameBoards","onUpdateFirstPlayerStatus","onDifficultySet","onPlayerListUpdated"])])}var le=a.p+"media/Minesweeper.ffd3ce07.mp4";const re={id:"background"};function ie(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",re,t[0]||(t[0]=[(0,s.Lk)("video",{autoplay:"",loop:"",muted:"",playsinline:""},[(0,s.Lk)("source",{src:le,type:"video/mp4"})],-1)]))}var ce={name:"GameBackground"};const de=(0,y.A)(ce,[["render",ie],["__scopeId","data-v-6698757a"]]);var me=de;const ue={id:"top-nav"};function he(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("header",null,[(0,s.Lk)("nav",ue,[(0,s.Lk)("a",{id:"logo",onClick:t[0]||(t[0]=(...e)=>l.returnToHome&&l.returnToHome(...e))},"Minesweeper")])])}var ge={methods:{returnToHome(){this.$emit("return-to-home")}}};const fe=(0,y.A)(ge,[["render",he],["__scopeId","data-v-418ad30f"]]);var pe=fe;const ve={class:"mode-selection"};function ye(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",ve,[(0,s.Lk)("button",{class:"btn-custom",onClick:t[0]||(t[0]=e=>l.selectMode("single"))},"Single Player"),(0,s.Lk)("button",{class:"btn-custom",onClick:t[1]||(t[1]=e=>l.selectMode("coop"))},"Cooperative"),(0,s.Lk)("button",{class:"btn-custom",onClick:t[2]||(t[2]=e=>l.selectMode("versus"))},"Versus")])}var be={methods:{selectMode(e){this.$emit("modeSelected",e)}}};const ke=(0,y.A)(be,[["render",ye],["__scopeId","data-v-6435fa7b"]]);var Se=ke;const we={class:"difficulty-selection"};function Ge(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",we,[(0,s.Lk)("button",{class:"btn-custom",onClick:t[0]||(t[0]=e=>l.setDifficulty("E"))},"Easy"),(0,s.Lk)("button",{class:"btn-custom",onClick:t[1]||(t[1]=e=>l.setDifficulty("M"))},"Medium"),(0,s.Lk)("button",{class:"btn-custom",onClick:t[2]||(t[2]=e=>l.setDifficulty("H"))},"Hard")])}a(4603),a(7566),a(8721);const Ce="http://localhost:9000";var Le={props:{mode:{type:String,required:!0}},methods:{setDifficulty(e){if("coop"===this.mode&&this.$emit("selectedDifficulty",e,"coop"),"versus"===this.mode&&this.$emit("selectedDifficulty",e,"versus"),"single"===this.mode){console.log("Setting difficulty level to:",e);const t=new URLSearchParams;t.append("level",e),fetch(`${Ce}/game/setDifficulty`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()}).then((e=>e.json())).then((t=>{console.log("Difficulty set:",t),this.$emit("selectedDifficulty",e,"single")})).catch((e=>{console.error("Error setting difficulty:",e),alert("Fehler beim Festlegen des Schwierigkeitsgrads. Bitte versuchen Sie es erneut.")}))}}}};const Ee=(0,y.A)(Le,[["render",Ge],["__scopeId","data-v-02dcf93c"]]);var Be=Ee,De=a(4232),Fe=a.p+"img/Mine.db8ef906.png",Ie=a.p+"img/you_lost.38667fe6.png";const Xe={id:"gameBoard"},Pe={key:0,class:"vs-mode"},Ae=["data-x","data-y","onClick","onContextmenu"],$e={class:"cell-content"},_e={key:0,src:Fe,alt:"ðŸ’£",class:"mine-icon"},xe={key:1},Te=["data-x","data-y","onClick","onContextmenu"],We={class:"cell-content"},Ve={key:0,src:Fe,alt:"ðŸ’£",class:"mine-icon"},Ne={key:2,id:"you-lost"};function He(e,t,a,n,l,r){return(0,s.uX)(),(0,s.CE)("div",Xe,["versus"===a.mode?((0,s.uX)(),(0,s.CE)("div",Pe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.vsGameBoards,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.playerId,class:"player-board"},[(0,s.Lk)("h3",null,(0,De.v_)(e.playerId),1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.gameData.rows,((t,l)=>((0,s.uX)(),(0,s.CE)("div",{key:l,class:"game-row"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t,((t,r)=>((0,s.uX)(),(0,s.CE)("div",{key:r,class:(0,De.C4)(n.getCellClasses(t,e.playerId)),"data-x":l,"data-y":r,onClick:t=>e.playerId===a.playerId?n.handleCellClick(l,r):null,onContextmenu:(0,o.D$)((t=>e.playerId===a.playerId?n.handleCellRightClick(l,r):null),["prevent"])},[(0,s.Lk)("span",$e,["*"===t?((0,s.uX)(),(0,s.CE)("img",_e)):"f"===t?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)(" ðŸš© ")],64)):"-"===t?((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[(0,s.eW)(" Â  ")],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:3},[(0,s.eW)((0,De.v_)(t),1)],64))])],42,Ae)))),128))])))),128))])))),128))])):((0,s.uX)(),(0,s.CE)("div",xe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.gameBoardData.rows,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"game-row"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e,((e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:a,class:(0,De.C4)(["cell",e.state]),"data-x":t,"data-y":a,onClick:e=>n.handleCellClick(t,a),onContextmenu:(0,o.D$)((e=>n.handleCellRightClick(t,a)),["prevent"])},[(0,s.Lk)("span",We,["bomb"===e.state?((0,s.uX)(),(0,s.CE)("img",Ve)):"flag"===e.state?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.eW)(" ðŸš© ")],64)):"empty"===e.state?((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[(0,s.eW)(" Â  ")],64)):"number"===e.state?((0,s.uX)(),(0,s.CE)(s.FK,{key:3},[(0,s.eW)((0,De.v_)(e.value),1)],64)):(0,s.Q3)("",!0)])],42,Te)))),128))])))),128))])),"Lost"===a.gameState?((0,s.uX)(),(0,s.CE)("div",Ne,t[0]||(t[0]=[(0,s.Lk)("img",{src:Ie,alt:"You Lost"},null,-1)]))):(0,s.Q3)("",!0)])}a(4114),a(1454);var Me=a(144),Oe=a(4373),Re={name:"GameBoard",props:{gameState:{type:String,required:!0},mode:{type:String,required:!0},coopBoardData:{type:Object},vsBoardData:{type:Array},playerId:{type:String}},setup(e,{emit:t}){const a=(0,Me.KR)({rows:[],cols:0,cells:[]}),o=(0,Me.KR)([]);(0,s.wB)((()=>e.gameState),(e=>{console.log("Game state changed to:",e)})),(0,s.wB)((()=>e.mode),(e=>{console.log("Game mode changed to:",e)}));const n=async()=>{if(console.log("Building game board in ",e.mode," mode"),"coop"===e.mode&&((0,s.wB)((()=>e.coopBoardData),(e=>{e&&(a.value={rows:e.cells,cols:e.cols,cells:e.cells},console.log("Coop game board data updated:",a.value))}),{immediate:!0}),console.log("Build GameBoard for Coop mode with: ",e.coopBoardData)),"versus"===e.mode&&(0,s.wB)((()=>e.vsBoardData),(e=>{console.log("Neue vsBoardData erhalten:",e),e&&e.length>0&&(o.value=e.map((e=>({playerId:e.playerId,gameData:{rows:e.gameData.cells,cols:e.gameData.cols,cells:e.gameData.cells}}))),console.log("vsGameBoards aktualisiert:",o.value))}),{immediate:!0}),"single"===e.mode)try{const t=await Oe.A.post("http://localhost:9000/game/getGameBoard"),o=t.data;console.log("Game board data received from server"),a.value={rows:o.cells,cols:o.cols,cells:o.cells},"Lost"!==e.gameState&&"Won"!==e.gameState||(console.log("Game over. State:",e.gameState),await i())}catch(t){console.error("Error fetching game board:",t)}},l=(e,t)=>{console.log("Cell clicked at:",e,t),c(e,t)},r=(e,t)=>{console.log("Cell right-clicked at:",e,t),d(e,t)},i=async()=>{try{const e=await Oe.A.post("http://localhost:9000/game/getBombMatrix"),t=e.data;console.log("Bomb matrix received from server:",t);const o=a.value.rows.map(((e,a)=>e.map(((e,o)=>{const s=t[o]?.[a];return{...e,state:"*"===s?"bomb":"revealed",value:"*"===s?"ðŸ’£":s}}))));a.value={...a.value,rows:o}}catch(e){console.error("Error fetching bomb matrix:",e),alert("Error fetching bomb matrix. Please check the server.")}},c=(a,o)=>{if("coop"===e.mode)t("send-coop-action","uncover",a,o);else if("versus"===e.mode)t("send-vs-action","uncover",a,o);else if("single"===e.mode){const e=new URLSearchParams;e.append("x",a),e.append("y",o),fetch("http://localhost:9000/game/uncover",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).then((e=>e.json())).then((e=>{console.log("Successfully uncovered:",a,":",o),t("game-state-updated",e.gameState)})).catch((e=>{console.error("Error uncovering cell:",e),alert("Error uncovering cell!")}))}},d=(a,o)=>{if("coop"===e.mode)t("send-coop-action","flag",a,o);else if("versus"===e.mode)t("send-vs-action","flag",a,o);else if("single"===e.mode){const e=new URLSearchParams;e.append("x",a),e.append("y",o),fetch("http://localhost:9000/game/flag",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).then((e=>e.json())).then((e=>{console.log("Successfully flagged:",a,":",o),t("game-state-updated",e.gameState)})).catch((e=>{console.error("Error flagging cell:",e),alert("Error flagging cell!")}))}},m=(t,a)=>{let o=["cell"];return"-"===t?o.push("covered"):"f"===t?o.push("flag"):"*"===t?o.push("bomb"):" "===t||"0"===t?o.push("empty"):o.push("number"),a===e.playerId&&o.push("own-cell"),o};return(0,s.sV)((()=>{n()})),{buildGameBoard:n,gameBoardData:a,vsGameBoards:o,handleCellClick:l,handleCellRightClick:r,getCellClasses:m}}};const Ue=(0,y.A)(Re,[["render",He],["__scopeId","data-v-97583718"]]);var je=Ue;const Ke={id:"controls"};function qe(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div",Ke,[(0,s.Lk)("button",{class:"btn-custom mx-2",onClick:t[0]||(t[0]=(...e)=>l.undo&&l.undo(...e))},"Undo"),(0,s.Lk)("button",{class:"btn-custom mx-2",onClick:t[1]||(t[1]=(...e)=>l.restart&&l.restart(...e))},"Restart"),(0,s.Lk)("button",{class:"btn-custom mx-2",onClick:t[2]||(t[2]=(...e)=>l.saveGame&&l.saveGame(...e))},"Save Game"),(0,s.Lk)("button",{class:"btn-custom mx-2",onClick:t[3]||(t[3]=(...e)=>l.loadGame&&l.loadGame(...e))},"Load Game")])}var ze={props:{mode:{type:String,required:!0}},methods:{undo(){if("coop"===this.mode)this.$emit("send-coop-control","undo");else if("single"===this.mode){const e=new URLSearchParams;fetch("http://localhost:9000/game/undo",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).then((e=>e.json())).catch((e=>{console.error("Error undoing:",e),alert("Error undoing. Please check the server response.")})),this.$emit("reload-gameboard")}},restart(){if("coop"===this.mode)this.$emit("send-coop-control","restart");else if("single"===this.mode){console.log("Restart action triggered");const e=new URLSearchParams;fetch("http://localhost:9000/game/restart",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).then((e=>e.json())).catch((e=>{console.error("Error restarting:",e),alert("Error restarting. Please check the server response.")})),this.$emit("reload-gameboard")}},saveGame(){console.log("Save game action triggered"),fetch("http://localhost:9000/game/save",{method:"POST"}).then((e=>e.json())).then((e=>{console.log("data set:",e),console.log("Save game successful")})).catch((e=>{console.error("Error saving game:",e),alert("Error saving game. Please check the server response.")}))},loadGame(){this.$emit("load-game")}}};const Qe=(0,y.A)(ze,[["render",qe],["__scopeId","data-v-0d97465a"]]);var Je=Qe;function Ye(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("div")}var Ze={data(){return{gameID:null,coopSocket:null,vsSocket:null,isCoopMode:!1,playerId:null,isFirstPlayer:!1,players:[]}},methods:{connectCoopWebSocket(){this.gameID=prompt("Geben Sie eine Spiel-ID ein, um einem Spiel beizutreten oder ein neues Spiel zu erstellen:","game_"+Date.now());const e=`ws://localhost:9000/coop/ws/${this.gameID}`;console.log("Verbindung zum WebSocket unter URL herstellen:",e),this.coopSocket=new WebSocket(e),this.coopSocket.onopen=()=>{console.log("Coop WebSocket verbunden.")},this.coopSocket.onmessage=e=>{console.log("Nachricht vom WebSocket erhalten:",e.data);const t=JSON.parse(e.data);t.gameState&&(console.log("Spielzustand erhalten:",t.gameState),this.$emit("build-coop-game-boards",t))},this.coopSocket.onclose=()=>{console.log("Coop WebSocket geschlossen.")},this.coopSocket.onerror=e=>{console.error("WebSocket-Fehler:",e)}},sendCoopAction(e,t){if(console.log("Senden von Aktion Ã¼ber WebSocket:",e,t),this.coopSocket&&this.coopSocket.readyState===WebSocket.OPEN){const a={action:e,data:t};this.coopSocket.send(JSON.stringify(a)),console.log("Aktion gesendet:",a)}else console.warn("WebSocket ist nicht geÃ¶ffnet. Bereitschaftszustand:",this.coopSocket.readyState)},connectVsWebSocket(){this.gameID=prompt("Geben Sie eine Spiel-ID ein, um einem Spiel beizutreten oder ein neues Spiel zu erstellen:","vs_"+Date.now()),this.playerId=prompt("Geben Sie Ihren Spielernamen ein:","Player_"+Date.now()),this.vsSocket&&this.vsSocket.readyState===WebSocket.OPEN&&(console.log("Bestehende WebSocket-Verbindung wird geschlossen..."),this.vsSocket.close());const e=`ws://localhost:9000/vs/ws/${this.gameID}/${this.playerId}`;console.log("Verbindung zum Versus WebSocket unter URL herstellen:",e),this.vsSocket=new WebSocket(e),this.vsSocket.onopen=()=>{console.log("Versus WebSocket verbunden.")},this.vsSocket.onmessage=e=>{const t=JSON.parse(e.data);switch(console.log("Empfangene Nachricht:",t),t.action){case"setDifficulty":t.players&&(this.players=t.players,this.isFirstPlayer=this.playerId===this.players[0],console.log("Spielerliste aktualisiert in 'setDifficulty':",this.players),console.log("isFirstPlayer:",this.isFirstPlayer),this.$emit("updateFirstPlayerStatus",this.isFirstPlayer)),t.level&&this.$emit("difficultySet",t.level);break;case"updatePlayers":this.players=t.players,this.isFirstPlayer=this.playerId===this.players[0],console.log("Spielerliste aktualisiert in 'updatePlayers':",this.players),console.log("isFirstPlayer:",this.isFirstPlayer),this.$emit("updateFirstPlayerStatus",this.isFirstPlayer),this.$emit("playerListUpdated",this.players);break;case"startGame":this.handleStartGame(t);break;case"gameState":this.updateVsGameState(t);break;case"error":alert(t.message||"Ein Fehler ist aufgetreten.");break;case"gameFull":alert("Das Spiel ist voll!");break;default:console.warn("Unbekannte Aktion:",t.action)}},this.vsSocket.onerror=e=>{console.error("WebSocket-Fehler:",e)},this.vsSocket.onclose=()=>{console.log("Versus WebSocket geschlossen.")}},sendVsAction(e,t){if(console.log("Senden von Versus-Aktion Ã¼ber WebSocket:",e,t),this.vsSocket&&this.vsSocket.readyState===WebSocket.OPEN){const a={action:e,data:t,playerId:this.playerId};this.vsSocket.send(JSON.stringify(a)),console.log("Versus-Aktion gesendet:",a)}else console.warn("Versus WebSocket ist nicht geÃ¶ffnet. Bereitschaftszustand:",this.vsSocket.readyState)},updateVsGameState(e){console.log("Aktualisieren des Spielzustands:",e),console.log("Empfangene gameStates:",e.gameStates),this.buildVsGameBoards(e.gameStates)},buildVsGameBoards(e){console.log("Emitieren der Spielbretter an das Eltern-Component:",e),this.$emit("buildVsGameBoards",e,this.playerId)},uncoverCell(e,t){console.log(`Aufdecken der Zelle bei (${e}, ${t})`),this.sendVsAction("uncoverCell",{x:e,y:t})},flagCell(e,t){console.log(`Markieren der Zelle bei (${e}, ${t})`),this.sendVsAction("flagCell",{x:e,y:t})},handleStartGame(e){console.log("Spiel gestartet:",e)}}};const et=(0,y.A)(Ze,[["render",Ye]]);var tt=et,at={components:{Background:me,Navbar:pe,ModeSelection:Se,DifficultySelection:Be,GameBoard:je,GameControls:Je,Socket:tt},data(){return{gameState:"Playing",modeSelected:null,selectedDifficulty:null,coopBoardData:{},vsBoardData:[],isFirstPlayer:!1,players:[],playerId:null}},methods:{resetDifficulty(){this.selectedDifficulty=null},returnToHome(){this.$emit("return-to-home")},handleModeSelection(e){this.modeSelected=e,"coop"===e&&this.$refs.socket.connectCoopWebSocket(),"versus"===e&&this.$refs.socket.connectVsWebSocket()},handleDifficultySelection(e,t){switch(t){case"single":this.selectedDifficulty=e;break;case"coop":this.$refs.socket.sendCoopAction("setDifficulty",{level:e}),this.selectedDifficulty=e;break;case"versus":this.$refs.socket.sendVsAction("setDifficulty",{level:e}),(this.isFirstPlayer||"versus"!==t)&&(this.selectedDifficulty=e);break}},handleLoadGame(){this.$emit("load-game")},handleGameStateUpdate(e){this.gameState=e,this.handleRebuildGameBoard()},buildCoopGameBoards(e){this.coopBoardData=e,this.gameState=e.gameState,console.log("coopBoardData on GameScreen: ",this.coopBoardData.type),this.handleRebuildGameBoard()},buildVsGameBoards(e,t){this.vsBoardData=e,this.playerId=t,this.handleRebuildGameBoard()},async handleRebuildGameBoard(){this.$refs.gameBoard&&this.$refs.gameBoard.buildGameBoard()},handleCoopAction(e,t,a){this.$refs.socket.sendCoopAction(e,{x:t,y:a})},handleCoopControl(e){this.$refs.socket.sendCoopAction(e,{})},handleVsAction(e,t,a){this.$refs.socket.sendVsAction(e,{x:t,y:a})},handleFirstPlayerStatusUpdate(e){this.isFirstPlayer=e},handleDifficultySet(e){this.selectedDifficulty=e},handlePlayerListUpdate(e){this.players=e}},watch:{"players[1]":function(e){e&&this.handleRebuildGameBoard()}}};const ot=(0,y.A)(at,[["render",ne],["__scopeId","data-v-2266bf3a"]]);var st=ot;function nt(e,t,a,o,n,l){const r=(0,s.g2)("Header"),i=(0,s.g2)("GamesList"),c=(0,s.g2)("Footer");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)(r),(0,s.bF)(i,{onLoadGame:l.handleLoadGame},null,8,["onLoadGame"]),(0,s.bF)(c,{onStartNewGame:l.startNewGame},null,8,["onStartNewGame"])])}const lt={class:"text-center"};function rt(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("header",lt,t[0]||(t[0]=[(0,s.Lk)("h1",{id:"title"},"Minesweeper Load Game",-1)]))}var it={name:"HeaderComponent"};const ct=(0,y.A)(it,[["render",rt],["__scopeId","data-v-72d1181c"]]);var dt=ct;const mt={class:"container my-5 p-4 bg-white rounded shadow"},ut={id:"content"},ht={class:"game-name"},gt=["onClick"],ft=["onClick"];function pt(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("section",mt,[t[0]||(t[0]=(0,s.Lk)("h2",{class:"text-primary"},"Your Saved Games",-1)),(0,s.Lk)("ul",ut,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.games,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e.gameId,class:"list-group-item d-flex justify-content-between align-items-center"},[(0,s.Lk)("span",ht,"Game: "+(0,De.v_)(e.fileName),1),(0,s.Lk)("div",null,[(0,s.Lk)("button",{class:"btn btn-info btn-sm mr-2",onClick:t=>l.loadGame(e.gameId)},"Load",8,gt),(0,s.Lk)("button",{class:"btn btn-danger btn-sm",onClick:t=>l.deleteGame(e.gameId)},"Delete",8,ft)])])))),128))])])}var vt={name:"GamesListComponent",data(){return{games:[]}},methods:{fetchGames(){Oe.A.post("http://localhost:9000/getGamesList").then((e=>{this.games=e.data.games})).catch((e=>{console.error("Error fetching games list:",e),alert("Error loading games list. Please try again.")}))},loadGame(e){Oe.A.post(`http://localhost:9000/loadGame/${e}`).then((e=>{console.log(e.data.field)})).catch((e=>{alert(`Error loading game: ${e}`)})),this.$emit("load-game")},deleteGame(e){Oe.A.post(`http://localhost:9000/deleteGame/${e}`).then((()=>{this.fetchGames()})).catch((e=>{alert(`Error deleting game: ${e}`)}))}},mounted(){this.fetchGames()}};const yt=(0,y.A)(vt,[["render",pt],["__scopeId","data-v-0e9cd73d"]]);var bt=yt;const kt={class:"text-center my-5"};function St(e,t,a,o,n,l){return(0,s.uX)(),(0,s.CE)("footer",kt,[(0,s.Lk)("h1",null,[(0,s.Lk)("button",{id:"start-game-btn",class:"btn start-game-button",onClick:t[0]||(t[0]=(...e)=>l.startNewGame&&l.startNewGame(...e))}," Start New Game ")])])}var wt={methods:{startNewGame(){this.$emit("start-new-game")}}};const Gt=(0,y.A)(wt,[["render",St],["__scopeId","data-v-3297419e"]]);var Ct=Gt,Lt={name:"LoadGamePage",components:{Header:dt,GamesList:bt,Footer:Ct},methods:{startNewGame(){this.$emit("start-new-game")},handleLoadGame(){this.$emit("load-existing-game")}}};const Et=(0,y.A)(Lt,[["render",nt]]);var Bt=Et,Dt={components:{Homepage:oe,GameScreen:st,LoadGameScreen:Bt},data(){return{currentScreen:"home"}},methods:{returnToHome(){this.currentScreen="home"},startGame(e){console.log("GewÃ¤hlte Schwierigkeit:",e),this.$refs.homepage.removeEventlisteners(),this.currentScreen="game"},loadGame(){this.currentScreen="loadGame"},startNewGame(){this.currentScreen="game"},loadExistingGame(){this.currentScreen="game",this.$nextTick((()=>{this.$refs.GameScreen.modeSelected="single",this.$refs.GameScreen.selectedDifficulty="M"}))}}};const Ft=(0,y.A)(Dt,[["render",r],["__scopeId","data-v-29db6940"]]);var It=Ft,Xt=a(758);const Pt=(0,o.Ef)(It);Pt.use(Xt.Ay,{config:{id:"G-XXXXXXXXXX"}}),(0,o.Ef)(It).mount("#app")}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,n){if(!o){var l=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],n=e[d][2];for(var r=!0,i=0;i<o.length;i++)(!1&n||l>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[i])}))?o.splice(i--,1):(r=!1,n<l&&(l=n));if(r){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[o,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,l=o[0],r=o[1],i=o[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(i)var d=i(a)}for(t&&t(o);c<l.length;c++)n=l[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(d)},o=self["webpackChunkminesweeper"]=self["webpackChunkminesweeper"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(5249)}));o=a.O(o)})();
//# sourceMappingURL=app.1df38377.js.map